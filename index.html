<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-Hadoop" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/10/17/Hadoop/" class="article-date">
  <time class="dt-published" datetime="2021-10-16T16:00:50.000Z" itemprop="datePublished">2021-10-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/10/17/Hadoop/">Hadoopé›†ç¾¤æ­å»ºæ•™ç¨‹</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Hadoopé›†ç¾¤æ­å»º-lt-å›¾æ–‡ç‰ˆ-gt-Â·-2021-9-17"><a href="#Hadoopé›†ç¾¤æ­å»º-lt-å›¾æ–‡ç‰ˆ-gt-Â·-2021-9-17" class="headerlink" title="Hadoopé›†ç¾¤æ­å»º&lt;å›¾æ–‡ç‰ˆ&gt; Â· 2021/9/17"></a>Hadoopé›†ç¾¤æ­å»º&lt;å›¾æ–‡ç‰ˆ&gt; Â· 2021/9/17</h1><blockquote>
<h4 id="ğŸŒå‡†å¤‡å·¥å…·ï¼š"><a href="#ğŸŒå‡†å¤‡å·¥å…·ï¼š" class="headerlink" title="ğŸŒå‡†å¤‡å·¥å…·ï¼š"></a>ğŸŒå‡†å¤‡å·¥å…·ï¼š</h4><ul>
<li>VMware Workstation [è™šæ‹Ÿæœºè½¯ä»¶]</li>
<li>SecureCRT æˆ– Xshell [è¿œç¨‹è¿æ¥å·¥å…·]</li>
<li>Hadoop 2.7.3</li>
<li>Linux Jdk1.8.0_65</li>
</ul>
</blockquote>
<hr>
<blockquote>
<h4 id="ğŸ¤”å‰è¨€ï¼š"><a href="#ğŸ¤”å‰è¨€ï¼š" class="headerlink" title="ğŸ¤”å‰è¨€ï¼š"></a>ğŸ¤”å‰è¨€ï¼š</h4><ul>
<li>æ³¨æ„ä¿®æ”¹ä¸ºè‡ªå·±çš„ç½‘å…³ã€ç½‘æ®µ ã€å‡¡æ¶‰åŠä¹‹å¤„ä¼šæç¤ºâ€œã€!ã€‘â€ã€‘</li>
<li>æ³¨æ„ä¿®æ”¹ä¸ºè‡ªå·±çš„ä¸»æœºå</li>
</ul>
</blockquote>
<hr>
<h2 id="ä¸€-æ–°å»ºè™šæ‹Ÿæœº"><a href="#ä¸€-æ–°å»ºè™šæ‹Ÿæœº" class="headerlink" title="ä¸€. æ–°å»ºè™šæ‹Ÿæœº"></a>ä¸€. æ–°å»ºè™šæ‹Ÿæœº</h2><p>å‚è€ƒä¼ é€é—¨: <a target="_blank" rel="noopener" href="http://andtun.cn/vm.html">http://andtun.cn/vm.html</a></p>
<pre><code class="java">// å¤¹å¸¦ç§è´§,å·å·å¼•æµ
</code></pre>
<h2 id="äºŒ-è™šæ‹Ÿæœºé…ç½®åŠé›†ç¾¤è§„åˆ’"><a href="#äºŒ-è™šæ‹Ÿæœºé…ç½®åŠé›†ç¾¤è§„åˆ’" class="headerlink" title="äºŒ. è™šæ‹Ÿæœºé…ç½®åŠé›†ç¾¤è§„åˆ’"></a>äºŒ. è™šæ‹Ÿæœºé…ç½®åŠé›†ç¾¤è§„åˆ’</h2><h4 id="ç™»å½•-gt-ä¿®æ”¹ä¸»æœºå-gt-è·å–ç½‘å…³-gt-è§„åˆ’é›†ç¾¤-gt-é…ç½®ç½‘å¡-gt-ä¿®æ”¹Hosts-gt-å…³é˜²ç«å¢™"><a href="#ç™»å½•-gt-ä¿®æ”¹ä¸»æœºå-gt-è·å–ç½‘å…³-gt-è§„åˆ’é›†ç¾¤-gt-é…ç½®ç½‘å¡-gt-ä¿®æ”¹Hosts-gt-å…³é˜²ç«å¢™" class="headerlink" title="ç™»å½• &gt; ä¿®æ”¹ä¸»æœºå &gt; è·å–ç½‘å…³ &gt; è§„åˆ’é›†ç¾¤ &gt; é…ç½®ç½‘å¡ &gt; ä¿®æ”¹Hosts &gt; å…³é˜²ç«å¢™"></a>ç™»å½• &gt; ä¿®æ”¹ä¸»æœºå &gt; è·å–ç½‘å…³ &gt; è§„åˆ’é›†ç¾¤ &gt; é…ç½®ç½‘å¡ &gt; ä¿®æ”¹Hosts &gt; å…³é˜²ç«å¢™</h4><hr>
<blockquote>
<h4 id="âœ’ï¸ç™»å½•"><a href="#âœ’ï¸ç™»å½•" class="headerlink" title="âœ’ï¸ç™»å½•"></a>âœ’ï¸ç™»å½•</h4></blockquote>
<pre><code class="java">// ç•¥ å¯†ç æ˜¯ä¸æ˜¾ç¤ºçš„ï¼Œæ‰€ä»¥è¾“å…¥ä¹‹åç›´æ¥å›è½¦å³å¯
</code></pre>
<blockquote>
<h4 id="ğŸ“ä¿®æ”¹ä¸»æœºå"><a href="#ğŸ“ä¿®æ”¹ä¸»æœºå" class="headerlink" title="ğŸ“ä¿®æ”¹ä¸»æœºå"></a>ğŸ“ä¿®æ”¹ä¸»æœºå</h4></blockquote>
<pre><code class="java">hostnamectl set-hostname node01 // å…¶ä¸­ node01 æŒ‡çš„æ˜¯ éœ€è¦ä¿®æ”¹æˆä¸»æœºå
</code></pre>
<blockquote>
<h4 id="ğŸ§è·å–ç½‘å…³"><a href="#ğŸ§è·å–ç½‘å…³" class="headerlink" title="ğŸ§è·å–ç½‘å…³"></a>ğŸ§è·å–ç½‘å…³</h4></blockquote>
<pre><code class="java">VMwareè½¯ä»¶ä¸»ç•Œé¢ &gt;&gt; ç¼–è¾‘ &gt;&gt; è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨ &gt;&gt; VMnet8 &gt;&gt; NATè®¾ç½®
// è·å¾—ç½‘å…³IPï¼š192.168.96.2    ã€!ã€‘
VMwareè½¯ä»¶ä¸»ç•Œé¢ &gt;&gt; ç¼–è¾‘ &gt;&gt; è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨ &gt;&gt; VMnet8 &gt;&gt; DHCPè®¾ç½®
// è·å¾—ç½‘æ®µï¼š[èµ·å§‹IPåœ°å€]192.168.128 --- [ç»“æŸIPåœ°å€]192.168.96.254    ã€!ã€‘
// å³ä¸‹é¢è®¡åˆ’çš„IPåœ¨èµ·å§‹å’Œç»“æŸä¹‹å†…å°±å¯ä»¥
</code></pre>
<blockquote>
<p><img src="./2021/10/17/Hadoop/md-img/image-20210917213113823.png" alt="image-20210917213113823"></p>
<p><img src="./2021/10/17/Hadoop/md-img/image-20210917213221544.png" alt="image-20210917213221544"></p>
<p><img src="./2021/10/17/Hadoop/md-img/image-20210917213247018.png" alt="image-20210917213247018"><img src="./2021/10/17/Hadoop/md-img/image-20210917213320316.png" alt="image-20210917213320316"></p>
</blockquote>
<blockquote>
<h4 id="ğŸ“‹è®¡åˆ’é›†ç¾¤"><a href="#ğŸ“‹è®¡åˆ’é›†ç¾¤" class="headerlink" title="ğŸ“‹è®¡åˆ’é›†ç¾¤"></a>ğŸ“‹è®¡åˆ’é›†ç¾¤</h4></blockquote>
<pre><code class="java">// è®¡åˆ’é›†ç¾¤çš„ipå’Œä¸»æœºå    ã€!ã€‘
192.168.96.151    node01
192.168.96.152    node02
192.168.96.153    node03
</code></pre>
<blockquote>
<h4 id="ğŸ“¤é…ç½®ç½‘å¡"><a href="#ğŸ“¤é…ç½®ç½‘å¡" class="headerlink" title="ğŸ“¤é…ç½®ç½‘å¡"></a>ğŸ“¤é…ç½®ç½‘å¡</h4></blockquote>
<pre><code class="java">vi /etc/sysconfig/network-scripts/ifcfg-ens33
</code></pre>
<pre><code class="java">// ä¿®æ”¹
BOOTPROTO=static // ä¿®æ”¹ä¸ºé™æ€IP
ONBOOT=yes // å¼€æœºå¯åŠ¨ç½‘å¡
// æ·»åŠ 
IPADDR=192.168.96.151 // IPåœ°å€[æ³¨æ„è¦åœ¨ç½‘æ®µå†…]        ã€!ã€‘
GATEWAY=192.168.96.2 // è®¾ç½®ä½ çš„ç½‘å…³    ã€!ã€‘
NETMASK=255.255.255.0 // è®¾ç½®å­ç½‘æ©ç 
DNS1=119.29.29.29 // DNS
DNS2=8.8.8.8 // å¤‡ç”¨DNS
</code></pre>
<pre><code class="java">// systemctl restart network é‡å¯ç½‘ç»œ
// é…ç½®å®Œç½‘å¡ä¹‹åéœ€è¦é‡å¯ç½‘ç»œæ‰èƒ½ç”Ÿæ•ˆ,ä½†è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä¸é‡å¯ç½‘ç»œ,å› ä¸ºæ•™ç¨‹åé¢éœ€è¦é‡å¯è™šæ‹Ÿæœº
</code></pre>
<blockquote>
<p><img src="./2021/10/17/Hadoop/md-img/image-20210917224501438.png" alt="image-20210917224501438"></p>
</blockquote>
<blockquote>
<h4 id="ğŸ“ä¿®æ”¹Hosts"><a href="#ğŸ“ä¿®æ”¹Hosts" class="headerlink" title="ğŸ“ä¿®æ”¹Hosts"></a>ğŸ“ä¿®æ”¹Hosts</h4></blockquote>
<h5 id="1-ä¿®æ”¹è™šæ‹ŸæœºHosts"><a href="#1-ä¿®æ”¹è™šæ‹ŸæœºHosts" class="headerlink" title="1.ä¿®æ”¹è™šæ‹ŸæœºHosts"></a>1.ä¿®æ”¹è™šæ‹ŸæœºHosts</h5><pre><code class="java">vi /etc/hosts
</code></pre>
<pre><code class="java">// æ·»åŠ     ã€!ã€‘
192.168.96.151    node01
192.168.96.152    node02
192.168.96.153    node03
</code></pre>
<blockquote>
<p><img src="./2021/10/17/Hadoop/md-img/image-20210917220010678.png" alt="image-20210917220010678"></p>
</blockquote>
<h5 id="2-ä¿®æ”¹Windowsç”µè„‘ä¸Šçš„çš„Hosts"><a href="#2-ä¿®æ”¹Windowsç”µè„‘ä¸Šçš„çš„Hosts" class="headerlink" title="2.ä¿®æ”¹Windowsç”µè„‘ä¸Šçš„çš„Hosts"></a>2.ä¿®æ”¹Windowsç”µè„‘ä¸Šçš„çš„Hosts</h5><pre><code class="java">æ­¤ç”µè„‘ &gt;&gt; Cç›˜ =&gt; Windows &gt;&gt; System32 &gt;&gt; drivers &gt;&gt; etc &gt;&gt; hosts
</code></pre>
<pre><code class="java">// æ·»åŠ     ã€!ã€‘
192.168.96.151    node01
192.168.96.152    node02
192.168.96.153    node03
</code></pre>
<pre><code class="java">// æœ‰æƒé™ä¿å­˜ä¸äº†å°± å¤åˆ¶å‡ºæ¥ æ”¹å¥½äº† è¦†ç›–å›å»
</code></pre>
<blockquote>
<p><img src="./2021/10/17/Hadoop/md-img/image-20210917221723588.png" alt="image-20210917221723588"></p>
</blockquote>
<blockquote>
<h4 id="ğŸ“›å…³é—­é˜²ç«å¢™"><a href="#ğŸ“›å…³é—­é˜²ç«å¢™" class="headerlink" title="ğŸ“›å…³é—­é˜²ç«å¢™"></a>ğŸ“›å…³é—­é˜²ç«å¢™</h4></blockquote>
<pre><code class="java">systemctl stop firewalld // å…³é—­é˜²ç«å¢™
systemctl disable firewalld // ç¦æ­¢å¼€æœºå¯åŠ¨é˜²ç«å¢™
// systemctl status firewalld æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€
</code></pre>
<pre><code class="java">reboot // é‡å¯è™šæ‹Ÿæœº
</code></pre>
<h2 id="ğŸ”—ä¸‰-è¿œç¨‹è¿æ¥å·¥å…·å¹¶ä¸Šä¼ æ–‡ä»¶å‡†å¤‡"><a href="#ğŸ”—ä¸‰-è¿œç¨‹è¿æ¥å·¥å…·å¹¶ä¸Šä¼ æ–‡ä»¶å‡†å¤‡" class="headerlink" title="ğŸ”—ä¸‰.è¿œç¨‹è¿æ¥å·¥å…·å¹¶ä¸Šä¼ æ–‡ä»¶å‡†å¤‡"></a>ğŸ”—ä¸‰.è¿œç¨‹è¿æ¥å·¥å…·å¹¶ä¸Šä¼ æ–‡ä»¶å‡†å¤‡</h2><h5 id="1-è¿œç¨‹è¿æ¥"><a href="#1-è¿œç¨‹è¿æ¥" class="headerlink" title="1.è¿œç¨‹è¿æ¥"></a>1.è¿œç¨‹è¿æ¥</h5><pre><code class="java">æ–‡ä»¶ &gt;&gt; è¿æ¥ &gt;&gt; æ–°å»ºä¼šè¯
</code></pre>
<pre><code class="java">// ä¿®æ”¹
ä¸»æœºå: node01 // node01æŒ‡çš„æ˜¯ä¸»æœºå
ç”¨æˆ·å: root
</code></pre>
<pre><code class="java">ç»§ç»­ä¸‹ä¸€é¡µ &gt; å®Œæˆ &gt; è¿æ¥ å³å¯
</code></pre>
<blockquote>
<p><img src="./2021/10/17/Hadoop/md-img/image-20210917223658226.png" alt="image-20210917223658226"></p>
</blockquote>
<h5 id="2-ä¸Šä¼ æ–‡ä»¶å‡†å¤‡"><a href="#2-ä¸Šä¼ æ–‡ä»¶å‡†å¤‡" class="headerlink" title="2.ä¸Šä¼ æ–‡ä»¶å‡†å¤‡"></a>2.ä¸Šä¼ æ–‡ä»¶å‡†å¤‡</h5><pre><code class="java">// å®‰è£…winscpè¿œç¨‹å·¥å…·(FTPå·¥å…·)æˆ–è€…å®‰è£…rzå·¥å…·ä¸Šä¼ æ–‡ä»¶
</code></pre>
<pre><code class="java">yum -y install lrzsz // å®‰è£…RZ
</code></pre>
<h2 id="ğŸ“¦å››-å®‰è£…JDKå’ŒHadoop"><a href="#ğŸ“¦å››-å®‰è£…JDKå’ŒHadoop" class="headerlink" title="ğŸ“¦å››.å®‰è£…JDKå’ŒHadoop"></a>ğŸ“¦å››.å®‰è£…JDKå’ŒHadoop</h2><h5 id="1-ä¸‹è½½Linuxç‰ˆJDK8-å’Œ-Hadoop2-7-3ç‰ˆæœ¬"><a href="#1-ä¸‹è½½Linuxç‰ˆJDK8-å’Œ-Hadoop2-7-3ç‰ˆæœ¬" class="headerlink" title="1.ä¸‹è½½Linuxç‰ˆJDK8 å’Œ Hadoop2.7.3ç‰ˆæœ¬"></a>1.ä¸‹è½½Linuxç‰ˆJDK8 å’Œ Hadoop2.7.3ç‰ˆæœ¬</h5><pre><code class="text">[Hadoop2.7.3 ä¸‹è½½é“¾æ¥] https://archive.apache.org/dist/hadoop/core/hadoop-2.7.3/hadoop-2.7.3.tar.gz
[Linux Jdk1.8.0_65 ä¸‹è½½é“¾æ¥]
ç•¥....
</code></pre>
<h5 id="2-æ–°å»ºæ–‡ä»¶å¤¹"><a href="#2-æ–°å»ºæ–‡ä»¶å¤¹" class="headerlink" title="2.æ–°å»ºæ–‡ä»¶å¤¹"></a>2.æ–°å»ºæ–‡ä»¶å¤¹</h5><pre><code class="java">// åœ¨æ ¹ç›®å½•ä¸‹çš„optæ–‡ä»¶å¤¹å†…,åˆ›å»ºsoftware å’Œ moduleæ–‡ä»¶å¤¹
// softwareç”¨äºå­˜æ”¾å‹ç¼©æ–‡ä»¶ | moduleç”¨äºå­˜æ”¾å®‰è£…ç¨‹åº
mkdir /opt/software /opt/module
</code></pre>
<h5 id="3-ä¸Šä¼ æ–‡ä»¶"><a href="#3-ä¸Šä¼ æ–‡ä»¶" class="headerlink" title="3.ä¸Šä¼ æ–‡ä»¶"></a>3.ä¸Šä¼ æ–‡ä»¶</h5><pre><code class="java">// åˆ‡æ¢å·¥ä½œç›®å½•è‡³software
cd /opt/software
</code></pre>
<pre><code class="java">// ä½¿ç”¨FTPå·¥å…·æˆ–è€…ä½¿ç”¨RZä¸Šä¼ JDKã€Hadoopè‡³softwareç›®å½•
// ä¸‹é¢æ¼”ç¤ºçš„æ˜¯RZä¸Šä¼ 
rz
</code></pre>
<pre><code class="java">æ‰¾åˆ°æ–‡ä»¶ &gt;&gt; å•å‡»é€‰ä¸­æ–‡ä»¶ &gt;&gt; æ·»åŠ (å¯æ·»åŠ å¤šä¸ª) &gt;&gt; ç¡®å®š
</code></pre>
<blockquote>
<p><img src="./2021/10/17/Hadoop/md-img/image-20210917231154829.png" alt="image-20210917231154829"></p>
</blockquote>
<h5 id="3-1-CentOS-7-9-è·³è¿‡-æ­¤æ­¥éª¤-å¸è½½Linuxè‡ªå¸¦çš„JDK"><a href="#3-1-CentOS-7-9-è·³è¿‡-æ­¤æ­¥éª¤-å¸è½½Linuxè‡ªå¸¦çš„JDK" class="headerlink" title="3-1.[CentOS 7.9 è·³è¿‡ æ­¤æ­¥éª¤] å¸è½½Linuxè‡ªå¸¦çš„JDK"></a>3-1.[CentOS 7.9 è·³è¿‡ æ­¤æ­¥éª¤] å¸è½½Linuxè‡ªå¸¦çš„JDK</h5><pre><code class="java">// æŸ¥çœ‹ä»¥å®‰è£…JDKç‰ˆæœ¬
rpm -qa | grep jdk
// å¸è½½JDK
rpm -e --nodeps JDKåç§°  //æˆ–  yum remove è½¯ä»¶åç§°
</code></pre>
<h5 id="4-è§£å‹JDKå’ŒHadoop"><a href="#4-è§£å‹JDKå’ŒHadoop" class="headerlink" title="4.è§£å‹JDKå’ŒHadoop"></a>4.è§£å‹JDKå’ŒHadoop</h5><pre><code class="java">// è§£å‹JDK è‡³ /opt/module æ–‡ä»¶å¤¹
tar -zxvf /opt/software/jdk-8u65-linux-x64.tar.gz -C /opt/module
// è§£å‹Hadoop è‡³ /opt/module æ–‡ä»¶å¤¹
tar -zxvf /opt/software/hadoop-2.7.3.tar.gz -C /opt/module/
</code></pre>
<h5 id="5-é‡å‘½åJDKå’Œhadoop"><a href="#5-é‡å‘½åJDKå’Œhadoop" class="headerlink" title="5.é‡å‘½åJDKå’Œhadoop"></a>5.é‡å‘½åJDKå’Œhadoop</h5><pre><code class="java">// é‡å‘½åæ–‡ä»¶å¤¹ jdk1.8.0_65 ä¸º jdk
mv /opt/module/jdk1.8.0_65/ /opt/module/jdk
// é‡å‘½åæ–‡ä»¶å¤¹ hadoop-2.7.3 ä¸º hadoop
mv /opt/module/hadoop-2.7.3/ /opt/module/hadoop
</code></pre>
<h5 id="6-é…ç½®ç¯å¢ƒå˜é‡"><a href="#6-é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="6.é…ç½®ç¯å¢ƒå˜é‡"></a>6.é…ç½®ç¯å¢ƒå˜é‡</h5><pre><code>vi /etc/profile
</code></pre>
<pre><code class="java">// ç§»åŠ¨æœ€åä¸€è¡Œ [shift + G]
// æ·»åŠ 
export JAVA_HOME=/opt/module/jdk
export HADOOP_HOME=/opt/module/hadoop
export PATH=$PATH:$JAVA_HOME/bin:$HADOOP_HOME/bin:$HADOOP_HOME/sbin
</code></pre>
<blockquote>
<p><img src="./2021/10/17/Hadoop/md-img/image-20210917232812062.png" alt="image-20210917232812062"></p>
</blockquote>
<h5 id="7-åˆ·æ–°ç¯å¢ƒå˜é‡ä»¤å®ƒç”Ÿæ•ˆ"><a href="#7-åˆ·æ–°ç¯å¢ƒå˜é‡ä»¤å®ƒç”Ÿæ•ˆ" class="headerlink" title="7.åˆ·æ–°ç¯å¢ƒå˜é‡ä»¤å®ƒç”Ÿæ•ˆ"></a>7.åˆ·æ–°ç¯å¢ƒå˜é‡ä»¤å®ƒç”Ÿæ•ˆ</h5><pre><code class="java">source /etc/profile
</code></pre>
<h5 id="8-éªŒè¯é…ç½®JDKå’ŒHadoopæ˜¯å¦æˆåŠŸ"><a href="#8-éªŒè¯é…ç½®JDKå’ŒHadoopæ˜¯å¦æˆåŠŸ" class="headerlink" title="8.éªŒè¯é…ç½®JDKå’ŒHadoopæ˜¯å¦æˆåŠŸ"></a>8.éªŒè¯é…ç½®JDKå’ŒHadoopæ˜¯å¦æˆåŠŸ</h5><pre><code class="java">// éªŒè¯Java
java -version
// éªŒè¯Hadoop
hadoop version
</code></pre>
<h2 id="ğŸ“°äº”-ä¿®æ”¹Hadoopé…ç½®æ–‡ä»¶"><a href="#ğŸ“°äº”-ä¿®æ”¹Hadoopé…ç½®æ–‡ä»¶" class="headerlink" title="ğŸ“°äº”.ä¿®æ”¹Hadoopé…ç½®æ–‡ä»¶"></a>ğŸ“°äº”.ä¿®æ”¹Hadoopé…ç½®æ–‡ä»¶</h2><pre><code class="java">// åˆ‡æ¢å·¥ä½œç›®å½•è‡³/opt/module/hadoop/etc/hadoop/
cd /opt/module/hadoop/etc/hadoop/
</code></pre>
<h5 id="1-ç¼–è¾‘core-site-xml"><a href="#1-ç¼–è¾‘core-site-xml" class="headerlink" title="1.ç¼–è¾‘core-site.xml"></a>1.ç¼–è¾‘core-site.xml</h5><pre><code>vi core-site.xml
</code></pre>
<pre><code class="python"># æ·»åŠ     [åœ¨configurationä¹‹å†…]
# &lt;configuration&gt;
    &lt;property&gt;

        &lt;name&gt;fs.defaultFS&lt;/name&gt;

        &lt;value&gt;hdfs://node01:9000&lt;/value&gt;

    &lt;/property&gt;

    &lt;property&gt;

        &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;

        &lt;value&gt;/opt/module/hadoop/data/tmp&lt;/value&gt;

    &lt;/property&gt;
# &lt;/configuration&gt;
</code></pre>
<blockquote>
<p><img src="./2021/10/17/Hadoop/md-img/image-20210917234005366.png" alt="image-20210917234005366"></p>
</blockquote>
<h5 id="2-ç¼–è¾‘hdfs-site-xml"><a href="#2-ç¼–è¾‘hdfs-site-xml" class="headerlink" title="2.ç¼–è¾‘hdfs-site.xml"></a>2.ç¼–è¾‘hdfs-site.xml</h5><pre><code>vi hdfs-site.xml
</code></pre>
<pre><code class="python"># æ·»åŠ     [åœ¨configurationä¹‹å†…]
# &lt;configuration&gt;
    &lt;property&gt;
        &lt;name&gt;dfs.replication&lt;/name&gt;
        &lt;value&gt;3&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;
        &lt;value&gt;node02:50090&lt;/value&gt;
    &lt;/property&gt;
# &lt;/configuration&gt;
</code></pre>
<blockquote>
<p><img src="./2021/10/17/Hadoop/md-img/image-20210917234813222.png" alt="image-20210917234813222"></p>
</blockquote>
<h5 id="3-ç¼–è¾‘mapred-site-xml"><a href="#3-ç¼–è¾‘mapred-site-xml" class="headerlink" title="3.ç¼–è¾‘mapred-site.xml"></a>3.ç¼–è¾‘mapred-site.xml</h5><pre><code class="java">// å¤åˆ¶å¹¶é‡å‘½åæ–‡ä»¶
cp mapred-site.xml.template  mapred-site.xml
// ç¼–è¾‘æ–‡ä»¶
vi mapred-site.xml
</code></pre>
<pre><code class="python"># æ·»åŠ     [åœ¨configurationä¹‹å†…]
# &lt;configuration&gt;
    &lt;property&gt;
        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;
        &lt;value&gt;yarn&lt;/value&gt;
    &lt;/property&gt;
# &lt;/configuration&gt;
</code></pre>
<blockquote>
<p><img src="./2021/10/17/Hadoop/md-img/image-20210918002417429.png" alt="image-20210918002417429"></p>
</blockquote>
<h5 id="4-ç¼–è¾‘yarn-site-xml"><a href="#4-ç¼–è¾‘yarn-site-xml" class="headerlink" title="4.ç¼–è¾‘yarn-site.xml"></a>4.ç¼–è¾‘yarn-site.xml</h5><pre><code>vi yarn-site.xml
</code></pre>
<pre><code class="python"># æ·»åŠ     [åœ¨configurationä¹‹å†…]
# &lt;configuration&gt;
    &lt;property&gt;
        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;
        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;
        &lt;value&gt;node01&lt;/value&gt;
    &lt;/property&gt;
# &lt;/configuration&gt;
</code></pre>
<blockquote>
<p><img src="./2021/10/17/Hadoop/md-img/image-20210917234932102.png" alt="image-20210917234932102"></p>
</blockquote>
<h5 id="5-ç¼–è¾‘slaves"><a href="#5-ç¼–è¾‘slaves" class="headerlink" title="5.ç¼–è¾‘slaves"></a>5.ç¼–è¾‘slaves</h5><pre><code>vi slaves
</code></pre>
<pre><code class="java">// åˆ é™¤ localhost
// æ·»åŠ 
node01
node02
node03
</code></pre>
<blockquote>
<p><img src="./2021/10/17/Hadoop/md-img/image-20210917235059334.png" alt="image-20210917235059334"></p>
</blockquote>
<h5 id="6-ç¼–è¾‘hadoop-env-sh"><a href="#6-ç¼–è¾‘hadoop-env-sh" class="headerlink" title="6.ç¼–è¾‘hadoop-env.sh"></a>6.ç¼–è¾‘hadoop-env.sh</h5><pre><code>vi hadoop-env.sh
</code></pre>
<pre><code class="java">// æ‰¾åˆ°export JAVA_HOME=$&#123;JAVA_HOME&#125;
// ä¿®æ”¹
export JAVA_HOME=/opt/module/jdk
</code></pre>
<blockquote>
<p><img src="./2021/10/17/Hadoop/md-img/image-20210917235512185.png" alt="image-20210917235512185"></p>
</blockquote>
<h2 id="ğŸ–¨ï¸å…­-å…‹éš†è™šæ‹Ÿæœº"><a href="#ğŸ–¨ï¸å…­-å…‹éš†è™šæ‹Ÿæœº" class="headerlink" title="ğŸ–¨ï¸å…­.å…‹éš†è™šæ‹Ÿæœº"></a>ğŸ–¨ï¸å…­.å…‹éš†è™šæ‹Ÿæœº</h2><h5 id="1-å…³é—­node01"><a href="#1-å…³é—­node01" class="headerlink" title="1.å…³é—­node01"></a>1.å…³é—­node01</h5><pre><code>poweroff
</code></pre>
<h5 id="2-å…‹éš†"><a href="#2-å…‹éš†" class="headerlink" title="2.å…‹éš†"></a>2.å…‹éš†</h5><pre><code class="java">é€‰ä¸­node01è™šæ‹Ÿæœº &gt;&gt; ç®¡ç† &gt;&gt; å…‹éš† &gt;&gt; ä¸‹ä¸€é¡µ &gt;&gt; ä¸‹ä¸€é¡µ &gt;&gt; åˆ›å»ºå®Œæ•´å…‹éš† &gt;&gt; ä¿®æ”¹è™šæ‹Ÿæœºåç§°åŠä½ç½® &gt;&gt; å®Œæˆ
// éœ€è¦ä¸¤å°è™šæ‹Ÿæœº,æ‰€ä»¥æˆ‘ä»¬è¦å…‹éš†2æ¬¡
</code></pre>
<blockquote>
<p><img src="./2021/10/17/Hadoop/md-img/image-20210918000043900.png" alt="image-20210918000043900"></p>
<p><img src="./2021/10/17/Hadoop/md-img/image-20210918000210885.png" alt="image-20210918000210885"></p>
<p><img src="./2021/10/17/Hadoop/md-img/image-20210918000249647.png" alt="image-20210918000249647"></p>
<p>[æ³¨æ„] ä¸Šé¢çš„è™šæ‹Ÿæœºåå­—æ˜¯å¯è‡ªå®šä¹‰çš„,ä¸ç”¨è·Ÿæˆ‘ä¸€æ¨¡ä¸€æ ·,å»ºè®®æ˜¯å¯¹åº”ä½ çš„ä¸»æœºå{ä¾‹:node02}</p>
</blockquote>
<h5 id="3-å¯åŠ¨æœºå™¨"><a href="#3-å¯åŠ¨æœºå™¨" class="headerlink" title="3.å¯åŠ¨æœºå™¨"></a>3.å¯åŠ¨æœºå™¨</h5><pre><code>å¼€å¯ Node01 Node02 Node03
</code></pre>
<h5 id="4-ä¿®æ”¹Node02"><a href="#4-ä¿®æ”¹Node02" class="headerlink" title="4.ä¿®æ”¹Node02"></a>4.ä¿®æ”¹Node02</h5><pre><code class="java">// ä¿®æ”¹ä¸»æœºå
hostnamectl set-hostname node02
// ç¼–è¾‘ç½‘å¡,ä¿®æ”¹IPåœ°å€
vi /etc/sysconfig/network-scripts/ifcfg-ens33
</code></pre>
<pre><code class="java">// ä¿®æ”¹
IPADDR=192.168.96.152        ã€!ã€‘
</code></pre>
<pre><code class="java">// é‡å¯è™šæ‹Ÿæœº
reboot
</code></pre>
<h5 id="5-ä¿®æ”¹Node03"><a href="#5-ä¿®æ”¹Node03" class="headerlink" title="5.ä¿®æ”¹Node03"></a>5.ä¿®æ”¹Node03</h5><pre><code class="java">// ä¿®æ”¹ä¸»æœºå
hostnamectl set-hostname node03
// ç¼–è¾‘ç½‘å¡,ä¿®æ”¹IPåœ°å€
vi /etc/sysconfig/network-scripts/ifcfg-ens33
</code></pre>
<pre><code class="java">// ä¿®æ”¹
IPADDR=192.168.96.153        ã€!ã€‘
</code></pre>
<pre><code class="java">// é‡å¯è™šæ‹Ÿæœº
reboot
</code></pre>
<h2 id="ğŸ”‘ä¸ƒ-å…å¯†é’¥"><a href="#ğŸ”‘ä¸ƒ-å…å¯†é’¥" class="headerlink" title="ğŸ”‘ä¸ƒ.å…å¯†é’¥"></a>ğŸ”‘ä¸ƒ.å…å¯†é’¥</h2><pre><code class="java">// åªéœ€è¦åœ¨Node01è™šæ‹Ÿæœºä¸Šé¢æ“ä½œå³å¯
//ç”Ÿæˆæœºå™¨é—´é€šä¿¡çš„å¯†é’¥å¯¹ï¼Œè¾“å…¥å‘½ä»¤ï¼Œç›´æ¥æŒ‰4ä¸ªå›è½¦
    ssh-keygen -t rsa
//åˆ›å»ºauthorized_keysæ–‡ä»¶
    cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys
//ä¿®æ”¹authorized_keysæ–‡ä»¶æƒé™ä¸º600
    chmod 600 ~/.ssh/authorized_keys    
//éªŒè¯SSHæ˜¯å¦å®‰è£…æˆåŠŸ
    ssh  localhost
    ç¬¬ä¸€æ¬¡ç™»é™†éœ€è¦è¾“å…¥yes    
//åˆ†å‘å…¬é’¥ï¼Œåœ¨åˆ†å‘è¿‡ç¨‹ä¸­éœ€è¾“å…¥yeså’Œåˆ†å‘å¯¹è±¡æœºå™¨çš„ç™»å½•å¯†ç 
    ssh-copy-id -i ~/.ssh/id_rsa.pub node02
    ssh-copy-id -i ~/.ssh/id_rsa.pub node03
</code></pre>
<h2 id="ğŸ³ï¸â€ğŸŒˆå…«-å¼€å¯é›†ç¾¤"><a href="#ğŸ³ï¸â€ğŸŒˆå…«-å¼€å¯é›†ç¾¤" class="headerlink" title="ğŸ³ï¸â€ğŸŒˆå…«.å¼€å¯é›†ç¾¤"></a>ğŸ³ï¸â€ğŸŒˆå…«.å¼€å¯é›†ç¾¤</h2><h5 id="1-æ ¼å¼åŒ–namenode"><a href="#1-æ ¼å¼åŒ–namenode" class="headerlink" title="1.æ ¼å¼åŒ–namenode"></a>1.æ ¼å¼åŒ–namenode</h5><pre><code>hdfs namenode -format
</code></pre>
<h5 id="2-å¯åŠ¨é›†ç¾¤"><a href="#2-å¯åŠ¨é›†ç¾¤" class="headerlink" title="2.å¯åŠ¨é›†ç¾¤"></a>2.å¯åŠ¨é›†ç¾¤</h5><pre><code>start-all.sh
</code></pre>
<h5 id="3-éªŒè¯"><a href="#3-éªŒè¯" class="headerlink" title="3.éªŒè¯"></a>3.éªŒè¯</h5><pre><code class="java">jps // æŸ¥çœ‹javaè¿›ç¨‹
node01:50070 // ç½‘å€
node01:8088 // ç½‘å€
// åœ¨HDFSä¸­ä¸Šä¼ æ–‡ä»¶ï¼Œåœ¨WEBä¸­æŸ¥çœ‹
hdfs dfs -put &lt;æ–‡ä»¶è·¯å¾„&gt; &lt;ä¸Šä¼ åˆ°HDFSçš„è·¯å¾„&gt;
</code></pre>
<blockquote>
<p><img src="./2021/10/17/Hadoop/md-img/image-20210918004742108.png" alt="image-20210918004742108"></p>
</blockquote>
<h5 id="3-å…³é—­é›†ç¾¤"><a href="#3-å…³é—­é›†ç¾¤" class="headerlink" title="3.å…³é—­é›†ç¾¤"></a>3.å…³é—­é›†ç¾¤</h5><pre><code>stop-all.sh
</code></pre>
<h1 id="ğŸ†æ­å–œä½ æˆåŠŸæ­å»ºäº†Hadoopé›†ç¾¤"><a href="#ğŸ†æ­å–œä½ æˆåŠŸæ­å»ºäº†Hadoopé›†ç¾¤" class="headerlink" title="ğŸ†æ­å–œä½ æˆåŠŸæ­å»ºäº†Hadoopé›†ç¾¤~"></a>ğŸ†æ­å–œä½ æˆåŠŸæ­å»ºäº†Hadoopé›†ç¾¤~</h1><hr>
<h2 id="ç–‘éš¾æ‚ç—‡ï¼Ÿ"><a href="#ç–‘éš¾æ‚ç—‡ï¼Ÿ" class="headerlink" title="ç–‘éš¾æ‚ç—‡ï¼Ÿ"></a>ç–‘éš¾æ‚ç—‡ï¼Ÿ</h2><h4 id="1-ä½¿ç”¨RZä¸Šä¼ ä¹‹åï¼Œç”¨tar-zxvfè§£å‹æ˜¾ç¤º"><a href="#1-ä½¿ç”¨RZä¸Šä¼ ä¹‹åï¼Œç”¨tar-zxvfè§£å‹æ˜¾ç¤º" class="headerlink" title="1.ä½¿ç”¨RZä¸Šä¼ ä¹‹åï¼Œç”¨tar -zxvfè§£å‹æ˜¾ç¤º"></a>1.ä½¿ç”¨RZä¸Šä¼ ä¹‹åï¼Œç”¨tar -zxvfè§£å‹æ˜¾ç¤º</h4><pre><code>gzip: stdin: invalid compressed data--format violated
tar: Child returned status 1
tar: Error is not recoverable: exiting no
</code></pre>
<p><strong>è§£å†³ï¼š</strong> è¿™æ˜¯å› ä¸ºä½ è¾“å…¥RZååœ¨ä¸Šä¼ æ–‡ä»¶çª—å£çš„å·¦ä¸‹è§’â€œä»¥ASCIIæ–¹å¼ä¸Šä¼ æ–‡ä»¶â€æ‰“å‹¾äº†ï¼Œå–æ¶ˆå³å¯</p>
<hr>
<h4 id="2-SecureCRTæ˜¾ç¤ºä¸­æ–‡ä¹±ç ï¼Ÿ"><a href="#2-SecureCRTæ˜¾ç¤ºä¸­æ–‡ä¹±ç ï¼Ÿ" class="headerlink" title="2.SecureCRTæ˜¾ç¤ºä¸­æ–‡ä¹±ç ï¼Ÿ"></a>2.SecureCRTæ˜¾ç¤ºä¸­æ–‡ä¹±ç ï¼Ÿ</h4><p><strong>è§£å†³ï¼š</strong> æ–‡ä»¶ &gt;&gt; è¿æ¥ &gt;&gt; é€‰ä¸­ä¹±ç çš„ä¼šè¯ &gt;&gt; å³é”®å±æ€§ ï¼ˆä¼šè¯é€‰é¡¹ï¼‰&gt;&gt; å¤–è§‚ &gt;&gt; å­—ç¬¦ç¼–ç  &gt;&gt; UTF-8 ç¡®è®¤ä¿å­˜å³å¯</p>
<hr>
<h3 id="â€¦-å¾…æ·»åŠ "><a href="#â€¦-å¾…æ·»åŠ " class="headerlink" title="â€¦.å¾…æ·»åŠ "></a>â€¦.å¾…æ·»åŠ </h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/10/17/Hadoop/" data-id="ckutzsrj10000mbpvgnbk09et" data-title="Hadoopé›†ç¾¤æ­å»ºæ•™ç¨‹" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/10/17/Hadoop/">Hadoopé›†ç¾¤æ­å»ºæ•™ç¨‹</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>